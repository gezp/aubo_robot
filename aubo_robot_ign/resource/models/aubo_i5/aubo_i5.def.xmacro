<?xml version="1.0"?>
<sdf version='1.7'>
    <!--model definition-->
    <!-- urdf(use xacro) -> sdf(use gz sdf -p),and it's modified -->
    <xmacro_define_block name='aubo_i5' params="parent">
        <link name='base_link'>
            <pose relative_to='${parent}'>0 0 0 0 0 0</pose>
            <inertial>
                <pose>-0 0.001538 0.020951 0 -0 0</pose>
                <mass>0.83419</mass>
                <inertia>
                    <ixx>0.0014414</ixx>
                    <ixy>7.8809e-15</ixy>
                    <ixz>8.5328e-16</ixz>
                    <iyy>0.0013542</iyy>
                    <iyz>-1.4364e-05</iyz>
                    <izz>0.0024659</izz>
                </inertia>
            </inertial>
            <collision name='base_link_collision'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/collision/base_link.STL</uri>
                    </mesh>
                </geometry>
            </collision>
            <visual name='base_link_visual'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/visual/base_link.DAE</uri>
                    </mesh>
                </geometry>
            </visual>
        </link>
        <joint name='shoulder_joint' type='revolute'>
            <pose relative_to='base_link'>0 0 0.122 0 0 -3.14159</pose>
            <parent>base_link</parent>
            <child>shoulder_link</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-3.05</lower>
                    <upper>3.05</upper>
                    <effort>300</effort>
                    <velocity>3</velocity>
                </limit>
                <dynamics>
                    <spring_reference>0</spring_reference>
                    <spring_stiffness>0</spring_stiffness>
                </dynamics>
            </axis>
        </joint>
        <link name='shoulder_link'>
            <pose relative_to='shoulder_joint'>0 0 0 0 -0 0</pose>
            <inertial>
                <pose>0 0.00535 -0.008837 0 -0 0</pose>
                <mass>1.57658</mass>
                <inertia>
                    <ixx>0.00406404</ixx>
                    <ixy>0</ixy>
                    <ixz>0</ixz>
                    <iyy>0.00392863</iyy>
                    <iyz>-0.000160152</iyz>
                    <izz>0.00308699</izz>
                </inertia>
            </inertial>
            <collision name='shoulder_link_collision'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/collision/shoulder_Link.STL</uri>
                    </mesh>
                </geometry>
            </collision>
            <visual name='shoulder_link_visual'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/visual/shoulder_Link.DAE</uri>
                    </mesh>
                </geometry>
            </visual>
        </link>
        <joint name='upper_arm_joint' type='revolute'>
            <pose relative_to='shoulder_link'>0 0.1215 0 1.57079 -1.57079 3.14159</pose>
            <parent>shoulder_link</parent>
            <child>upperArm_Link</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-3.05</lower>
                    <upper>3.05</upper>
                    <effort>300</effort>
                    <velocity>3</velocity>
                </limit>
                <dynamics>
                    <spring_reference>0</spring_reference>
                    <spring_stiffness>0</spring_stiffness>
                </dynamics>
            </axis>
        </joint>
        <link name='upperArm_Link'>
            <pose relative_to='upper_arm_joint'>0 0 0 0 -0 0</pose>
            <inertial>
                <pose>0.203997 0 0.012764 0 -0 0</pose>
                <mass>4.04176</mass>
                <inertia>
                    <ixx>0.00965399</ixx>
                    <ixy>0</ixy>
                    <ixz>0</ixz>
                    <iyy>0.144994</iyy>
                    <iyz>0</iyz>
                    <izz>0.142607</izz>
                </inertia>
            </inertial>
            <collision name='upperArm_Link_collision'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/collision/upperArm_Link.STL</uri>
                    </mesh>
                </geometry>
            </collision>
            <visual name='upperArm_Link_visual'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/visual/upperArm_Link.DAE</uri>
                    </mesh>
                </geometry>
            </visual>
        </link>
        <joint name='fore_arm_joint' type='revolute'>
            <pose relative_to='upperArm_Link'>0.408 0 0 3.14159 -0 -0</pose>
            <parent>upperArm_Link</parent>
            <child>foreArm_Link</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-3.05</lower>
                    <upper>3.05</upper>
                    <effort>300</effort>
                    <velocity>3</velocity>
                </limit>
                <dynamics>
                    <spring_reference>0</spring_reference>
                    <spring_stiffness>0</spring_stiffness>
                </dynamics>
            </axis>
        </joint>
        <link name='foreArm_Link'>
            <pose relative_to='fore_arm_joint'>0 0 0 0 -0 0</pose>
            <inertial>
                <pose>0.188922 1e-06 0.098103 0 -0 0</pose>
                <mass>2.27146</mass>
                <inertia>
                    <ixx>0.00214322</ixx>
                    <ixy>0</ixy>
                    <ixz>-0.000731206</ixz>
                    <iyy>0.0443926</iyy>
                    <iyz>0</iyz>
                    <izz>0.0441274</izz>
                </inertia>
            </inertial>
            <collision name='foreArm_Link_collision'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/collision/foreArm_Link.STL</uri>
                    </mesh>
                </geometry>
            </collision>
            <visual name='foreArm_Link_visual'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/visual/foreArm_Link.DAE</uri>
                    </mesh>
                </geometry>
            </visual>
        </link>
        <joint name='wrist1_joint' type='revolute'>
            <pose relative_to='foreArm_Link'>0.376 0 0 -3.14159 -0 1.5708</pose>
            <parent>foreArm_Link</parent>
            <child>wrist1_Link</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-3.05</lower>
                    <upper>3.05</upper>
                    <effort>300</effort>
                    <velocity>3</velocity>
                </limit>
                <dynamics>
                    <spring_reference>0</spring_reference>
                    <spring_stiffness>0</spring_stiffness>
                </dynamics>
            </axis>
        </joint>
        <link name='wrist1_Link'>
            <pose relative_to='wrist1_joint'>0 0 0 0 -0 0</pose>
            <inertial>
                <pose>1e-06 0.006248 -0.003924 0 -0 0</pose>
                <mass>0.500478</mass>
                <inertia>
                    <ixx>0.000711946</ixx>
                    <ixy>0</ixy>
                    <ixz>0</ixz>
                    <iyy>0.000405882</iyy>
                    <iyz>-2.30809e-05</iyz>
                    <izz>0.000685574</izz>
                </inertia>
            </inertial>
            <collision name='wrist1_Link_collision'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/collision/wrist1_Link.STL</uri>
                    </mesh>
                </geometry>
            </collision>
            <visual name='wrist1_Link_visual'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/visual/wrist1_Link.DAE</uri>
                    </mesh>
                </geometry>
            </visual>
        </link>
        <joint name='wrist2_joint' type='revolute'>
            <pose relative_to='wrist1_Link'>0 0.1025 0 -1.5708 -0 -0</pose>
            <parent>wrist1_Link</parent>
            <child>wrist2_Link</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-3.05</lower>
                    <upper>3.05</upper>
                    <effort>300</effort>
                    <velocity>3</velocity>
                </limit>
                <dynamics>
                    <spring_reference>0</spring_reference>
                    <spring_stiffness>0</spring_stiffness>
                </dynamics>
            </axis>
        </joint>
        <link name='wrist2_Link'>
            <pose relative_to='wrist2_joint'>0 0 0 0 -0 0</pose>
            <inertial>
                <pose>-1e-06 -0.006248 -0.003924 0 -0 0</pose>
                <mass>0.500478</mass>
                <inertia>
                    <ixx>0.000711946</ixx>
                    <ixy>0</ixy>
                    <ixz>0</ixz>
                    <iyy>0.000405882</iyy>
                    <iyz>2.30809e-05</iyz>
                    <izz>0.000685574</izz>
                </inertia>
            </inertial>
            <collision name='wrist2_Link_collision'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/collision/wrist2_Link.STL</uri>
                    </mesh>
                </geometry>
            </collision>
            <visual name='wrist2_Link_visual'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/visual/wrist2_Link.DAE</uri>
                    </mesh>
                </geometry>
            </visual>
        </link>
        <joint name='wrist3_joint' type='revolute'>
            <pose relative_to='wrist2_Link'>0 -0.094 0 1.5708 -0 0</pose>
            <parent>wrist2_Link</parent>
            <child>wrist3_Link</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-3.05</lower>
                    <upper>3.05</upper>
                    <effort>300</effort>
                    <velocity>3</velocity>
                </limit>
                <dynamics>
                    <spring_reference>0</spring_reference>
                    <spring_stiffness>0</spring_stiffness>
                </dynamics>
            </axis>
        </joint>
        <link name='wrist3_Link'>
            <pose relative_to='wrist3_joint'>0 0 0 0 -0 0</pose>
            <inertial>
                <pose>0 0.000176 -0.021329 0 -0 0</pose>
                <mass>0.15831</mass>
                <inertia>
                    <ixx>7.31376e-05</ixx>
                    <ixy>0</ixy>
                    <ixz>0</ixz>
                    <iyy>7.19528e-05</iyy>
                    <iyz>0</iyz>
                    <izz>0.000108772</izz>
                </inertia>
            </inertial>
            <collision name='wrist3_Link_collision'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/collision/wrist3_Link.STL</uri>
                    </mesh>
                </geometry>
            </collision>
            <visual name='wrist3_Link_visual'>
                <pose>0 0 0 0 -0 0</pose>
                <geometry>
                    <mesh>
                        <scale>1 1 1</scale>
                        <uri>model://aubo_i5/meshes/visual/wrist3_Link.DAE</uri>
                    </mesh>
                </geometry>
            </visual>
        </link>
    </xmacro_define_block>
    <!--controller definition-->
    <xmacro_define_block name='aubo_i5_position_controller'>
        <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
            <joint_name>shoulder_joint</joint_name>
            <p_gain>10000</p_gain>
            <i_gain>200</i_gain>
            <d_gain>500</d_gain>
            <i_max>1000.0</i_max>
            <i_min>-1000.0</i_min>
        </plugin>
        <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
            <joint_name>upper_arm_joint</joint_name>
            <p_gain>10000</p_gain>
            <i_gain>100</i_gain>
            <d_gain>200</d_gain>
            <i_max>1000.0</i_max>
            <i_min>-1000.0</i_min>
        </plugin>
        <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
            <joint_name>fore_arm_joint</joint_name>
            <p_gain>5000.0</p_gain>
            <i_gain>100</i_gain>
            <d_gain>200</d_gain>
            <i_max>1000</i_max>
            <i_min>-1000</i_min>
        </plugin>
        <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
            <joint_name>wrist1_joint</joint_name>
            <p_gain>50.0</p_gain>
            <i_gain>20.0</i_gain>
            <d_gain>2.0</d_gain>
            <i_max>5.0</i_max>
            <i_min>-5.0</i_min>
        </plugin>
        <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
            <joint_name>wrist2_joint</joint_name>
            <p_gain>50.0</p_gain>
            <i_gain>5</i_gain>
            <d_gain>2</d_gain>
            <i_max>5.0</i_max>
            <i_min>-5.0</i_min>
        </plugin>
        <plugin filename="ignition-gazebo-joint-position-controller-system" name="ignition::gazebo::systems::JointPositionController">
            <joint_name>wrist3_joint</joint_name>
            <p_gain>25.0</p_gain>
            <i_gain>5</i_gain>
            <d_gain>0.1</d_gain>
            <i_max>1.0</i_max>
            <i_min>-1.0</i_min>
        </plugin>
    </xmacro_define_block>
</sdf>